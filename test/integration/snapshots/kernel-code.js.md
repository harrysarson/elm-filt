# Snapshot report for `test/integration/kernel-code.js`

The actual snapshot is saved in `kernel-code.js.snap`.

Generated by [AVA](https://ava.li).

## Invocation

    'elm-filt examples/elm-0.19.1.js --keep elm/core:Elm.Kernel.Platform.initialize'

## Stderr

    ''

## Stdout

    `/* elm-filt 0.1.0␊
     * File:        examples/elm-0.19.1.js.␊
     * Type:        JavaScript␊
     * Compiler:    Offical elm compiler <https://github.com/elm/compiler>␊
     * Version:     0.19.1␊
     *␊
     * The following elm specifiers have been kept:␊
     *␊
     * * `elm/core:Elm.Kernel.Platform.initialize`␊
     */␊
    ␊
    ␊
    // For elm/core:Elm.Kernel.Platform.initialize␊
    function _Platform_initialize(flagDecoder, args, init, update, subscriptions, stepperBuilder)␊
    {␊
    	var result = A2(_Json_run, flagDecoder, _Json_wrap(args ? args['flags'] : undefined));␊
    	$elm$core$Result$isOk(result) || _Debug_crash(2 /**/, _Json_errorToString(result.a) /**/);␊
    	var managers = {};␊
    	result = init(result.a);␊
    	var model = result.a;␊
    	var stepper = stepperBuilder(sendToApp, model);␊
    	var ports = _Platform_setupEffects(managers, sendToApp);␊
    	function sendToApp(msg, viewMetadata)␊
    	{␊
    		result = A2(update, msg, model);␊
    		stepper(model = result.a, viewMetadata);␊
    		_Platform_dispatchEffects(managers, result.b, subscriptions(model));␊
    	}␊
    	_Platform_dispatchEffects(managers, result.b, subscriptions(model));␊
    	return ports ? { ports: ports } : {};␊
    }␊
    `
